(()=>{console.log("gsap.js");gsap.registerPlugin(ScrollTrigger);var m=document.querySelector("#ticker");if(m){[...m.children].forEach(r=>{let a=r.cloneNode(!0);m.appendChild(a)});let n=m.scrollWidth;gsap.to(m,{x:`-${n/2}px`,duration:25,ease:"linear",repeat:-1})}gsap.set(".modal .modal-content",{scale:.9});$(".modal-trigger").on("click",function(){var o=$(this).next(".modal"),n=o.find(".modal-content");o.length&&(o.css("display","flex"),gsap.to(o,{autoAlpha:1,duration:.5,ease:"power2.out"}),gsap.to(n,{autoAlpha:1,scale:1,duration:.5,ease:"power2.out"}))});$(".modal-close, .modal-bg").on("click",function(){var o=$(this).closest(".modal"),n=o.find(".modal-content");o.length&&(gsap.to(o,{autoAlpha:0,duration:.5,ease:"power2.out",onComplete:function(){o.css("display","none")}}),gsap.to(n,{autoAlpha:0,scale:.9,duration:.25,ease:"power2.out"}))});console.log("tyre-size.js");if(window.location.pathname.includes("/tyre-size/")){let a=function(e){let t=$("#quote-all-button");t.text(e),gsap.timeline().to(t,{scale:1.2,duration:.15}).to(t,{scale:1,duration:.15})};x=a,$(".stars").each(function(){var e=$(this),t=e.find(".star-count"),l=parseInt(t.text(),10);if(l=l-1,!isNaN(l)){var d=e.find(".star").first();if(d.length)for(var h=0;h<l;h++)e.append(d.clone())}});let o="Quote "+$(".result-item").length+" Tyres";$("#quote-all-button").text(o),p=[];let n=$("[data-msfid]").find("svg path").attr("d"),r="M191.87-434.5v-91h576.26v91H191.87Z";$("[data-msfid]").on("click",function(){$(this).hasClass("added-to-quote")?(p=p.filter(e=>e!==$(this).data("msfid")),$(this).parents(".w-dyn-item").children(".result-overlay").animate({opacity:0},200),$(this).find("svg path").attr("d",n),$(this).removeClass("added-to-quote"),$(this).find(".button-text").text("Quote"),$(this).css("background-color","var(--red)"),$(this).css("border","none"),console.log("msfidArray: "+p)):(p.push($(this).data("msfid")),$(this).parents(".w-dyn-item").children(".result-overlay").animate({opacity:1},200),$(this).find("svg path").attr("d",r),$(this).find(".button-text").text("Remove"),$(this).css("background-color","transparent"),$(this).addClass("added-to-quote"),$(this).css("border","1px solid var(--white)"),console.log("msfidArray: "+p)),p.length>0?a("Quote "+p.length+" Tyres"):a(o)});let s=$(".branch-item"),f=[];s.each(function(){let e=$(this).find(".branch-province").text();f.includes(e)||f.push(e)}),f.sort();let u=$("#quote-province");f.forEach(function(e){u.append($("<option>",{value:e,text:e}))});let i=$("#quote-branch");i.prop("disabled",!0),u.on("change",function(){let e=$(this).val();i.find("option:not(:first)").remove(),e?(s.each(function(){let t=$(this).find(".branch-province").text(),l=$(this).find(".branch-name").text();t===e&&i.append($("<option>",{value:l,text:l}))}),i.prop("disabled",!1)):i.prop("disabled",!0)}),$("#quote-all-button").on("click",function(){p.length===0&&$("[data-msfid]").each(function(){p.push($(this).data("msfid"))}),console.log("msfidArray: "+p)})}var p,x;console.log("find-tyre.js");$(document).ready(function(){let o=[];$("#find-profile, #find-rim, #find-tyres-form button[type='submit']").prop("disabled",!0),$("#size-data .w-dyn-item").each(function(){let i=$(this).find(".size-width").text().trim(),e=$(this).find(".size-profile").text().trim(),t=$(this).find(".size-rim").text().trim();i&&e&&t&&o.push({ratio:i,profile:e,rim:t})});let n=[...new Set(o.map(i=>i.ratio))].sort((i,e)=>i-e),r=$("#find-ratio"),a=$("#find-profile"),s=$("#find-rim"),f=$("#find-tyres-form button[type='submit']");n.forEach(i=>{r.append(new Option(i,i))}),r.on("change",function(){let i=$(this).val();if(a.html('<option value="">\u2026</option>').prop("disabled",!0),s.html('<option value="">\u2026</option>').prop("disabled",!0),f.prop("disabled",!0),!i)return;[...new Set(o.filter(t=>t.ratio===i).map(t=>t.profile))].sort((t,l)=>t-l).forEach(t=>{a.append(new Option(t,t))}),a.prop("disabled",!1),localStorage.setItem("selectedTyreRatio",i)}),a.on("change",function(){let i=r.val(),e=$(this).val();if(s.html('<option value="">\u2026</option>').prop("disabled",!0),f.prop("disabled",!0),!e)return;[...new Set(o.filter(l=>l.ratio===i&&l.profile===e).map(l=>l.rim))].sort().forEach(l=>{s.append(new Option(l,l))}),s.prop("disabled",!1),localStorage.setItem("selectedTyreProfile",e)}),s.on("change",function(){f.prop("disabled",!$(this).val()),localStorage.setItem("selectedTyreRim",$(this).val())}),$("#find-tyres-form").on("submit",function(i){i.preventDefault();let e=r.val(),t=a.val().replace(".","-"),l=s.val().toLowerCase();e&&t&&l?(localStorage.setItem("selectedTyreSize",`${e}-${t}-${l}`),window.location.href=`/tyre-size/${e}-${t}-${l}`):alert("Please select all fields.")});let u=localStorage.getItem("selectedTyreRatio");u&&(r.val(u).trigger("change"),setTimeout(()=>{let i=localStorage.getItem("selectedTyreProfile");i&&(a.val(i).trigger("change"),setTimeout(()=>{let e=localStorage.getItem("selectedTyreRim");e&&s.val(e).trigger("change")},300))},300)),$("#by-vehicle, #by-size").click(function(){var i=$(this).is("#by-vehicle");$("#by-vehicle, #by-size").removeClass("active"),$(this).addClass("active"),$(".by-vehicle, .by-size").addClass("hide"),$(i?".by-vehicle":".by-size").removeClass("hide")}),$("#find-model,#find-year,#find-trim,#find-size").prop("disabled",!0),$("#vehicle-make-list .w-dyn-item").each(function(){var i=$(this).find(".vehicle-make-name").text(),e=$(this).find(".vehicle-make-slug").text();$("#find-make").append(new Option(i,e))})});console.log("filter-tyres.js");$(document).ready(function(){let o=$(".result-item"),n=new Set,r=new Set,a=new Set,s=new Set,f=new Set,u=new Set;o.each(function(){let e=$(this).find(".result-name-wrap .result-brand-name").text().trim(),t=$(this).find(".price-position").text().trim(),l=$(this).find(".speed-index").text().trim(),d=$(this).find(".load-rating").text().trim(),h=$(this).find(".suv-type").text().trim(),v=$(this).find(".run-flat:visible").length>0?"Run Flat":"",g=$(this).find(".low-stock:visible").length>0?"Low Stock":"";e&&n.add(e),t&&r.add(t),l&&f.add(l),d&&u.add(d),h&&s.add(h),v&&a.add(v),g&&a.add(g)});function i(e,t){let l=$(`#${e}`);t.size>0?t.forEach(d=>{l.append(`<label><input type="checkbox" class="filter-option" data-filter="${e}" value="${d}"> ${d}</label>`)}):l.closest(".filter-section").hide()}i("brand-filter",n),i("price-filter",r),i("speed-filter",f),i("load-filter",u),i("suv-filter",s),i("other-filter",a),$("#apply-filters").on("click",function(){let e={};$(".filter-option:checked").each(function(){let t=$(this).data("filter"),l=$(this).val();e[t]||(e[t]=[]),e[t].push(l)}),o.each(function(){let t=$(this),l=!0;Object.keys(e).forEach(d=>{let h="";if(d==="other-filter"){let v=t.find(".run-flat:visible").length>0,g=t.find(".low-stock:visible").length>0;h=v?"Run Flat":g?"Low Stock":""}else h=t.find(`.${d.replace("-filter","")}`).text().trim();e[d].length>0&&!e[d].includes(h)&&(l=!1)}),t.toggle(l)})})});console.log("otp.js");var b=$("#otp-hidden"),c=$(".otp-box");c.on("paste",function(o){o.preventDefault();let n=(o.originalEvent.clipboardData||window.clipboardData).getData("text");n=n.replace(/[^0-9]/g,"");for(let s=0;s<n.length&&s<c.length;s++)c.eq(s).text(n[s]);let r="";c.each(function(){r+=$(this).text()}),b.val(r);let a=n.length;a<c.length?c.eq(a).focus():c.eq(c.length-1).focus()});c.on("input",function(){let o=$(this).text().trim();o.length>1&&$(this).text(o.charAt(0));let n="";c.each(function(){n+=$(this).text()}),b.val(n),o.length===1&&$(this).next().focus()});c.on("keydown",function(o){o.key==="Backspace"&&$(this).text()===""&&$(this).prev().focus()});c.on("click",function(){let o=c.index(this);c.eq(o).focus()});console.log("main.js");})();
//# sourceMappingURL=index.js.map
