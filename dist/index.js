(()=>{console.log("Loaded tyre-size.js");window.location.pathname.includes("/tyre-size/")&&($(".stars").each(function(){var s=$(this),n=s.find(".star-count"),l=parseInt(n.text(),10);if(l=l-1,!isNaN(l)){var a=s.find(".star").first();if(a.length)for(var r=0;r<l;r++)s.append(a.clone())}}),$("#quote-all-button").text("Quote "+$(".result-item").length+" Tyres"));console.log("Loaded find-tyres.js");$(document).ready(function(){let s=[];$("#find-profile, #find-rim, #find-tyres-form button[type='submit']").prop("disabled",!0),$("#size-data .w-dyn-item").each(function(){let e=$(this).find(".size-width").text().trim(),t=$(this).find(".size-profile").text().trim(),i=$(this).find(".size-rim").text().trim();e&&t&&i&&s.push({ratio:e,profile:t,rim:i})});let n=[...new Set(s.map(e=>e.ratio))].sort((e,t)=>e-t),l=$("#find-ratio"),a=$("#find-profile"),r=$("#find-rim"),d=$("#find-tyres-form button[type='submit']");n.forEach(e=>{l.append(new Option(e,e))}),l.on("change",function(){let e=$(this).val();if(a.html('<option value="">\u2026</option>').prop("disabled",!0),r.html('<option value="">\u2026</option>').prop("disabled",!0),d.prop("disabled",!0),!e)return;[...new Set(s.filter(i=>i.ratio===e).map(i=>i.profile))].sort((i,o)=>i-o).forEach(i=>{a.append(new Option(i,i))}),a.prop("disabled",!1),localStorage.setItem("selectedTyreRatio",e)}),a.on("change",function(){let e=l.val(),t=$(this).val();if(r.html('<option value="">\u2026</option>').prop("disabled",!0),d.prop("disabled",!0),!t)return;[...new Set(s.filter(o=>o.ratio===e&&o.profile===t).map(o=>o.rim))].sort().forEach(o=>{r.append(new Option(o,o))}),r.prop("disabled",!1),localStorage.setItem("selectedTyreProfile",t)}),r.on("change",function(){d.prop("disabled",!$(this).val()),localStorage.setItem("selectedTyreRim",$(this).val())}),$("#find-tyres-form").on("submit",function(e){e.preventDefault();let t=l.val(),i=a.val().replace(".","-"),o=r.val().toLowerCase();t&&i&&o?(localStorage.setItem("selectedTyreSize",`${t}-${i}-${o}`),window.location.href=`/tyre-size/${t}-${i}-${o}`):alert("Please select all fields.")});let f=localStorage.getItem("selectedTyreRatio");f&&(l.val(f).trigger("change"),setTimeout(()=>{let e=localStorage.getItem("selectedTyreProfile");e&&(a.val(e).trigger("change"),setTimeout(()=>{let t=localStorage.getItem("selectedTyreRim");t&&r.val(t).trigger("change")},300))},300))});})();
//# sourceMappingURL=index.js.map
