{
  "version": 3,
  "sources": ["../src/tyre-size.js", "../src/find-tyres.js"],
  "sourcesContent": ["console.log(\"Loaded tyre-size.js\");\n\nif (window.location.pathname.includes('/tyre-size/')) {\n\n    // Set star ratings\n    $('.stars').each(function () {\n        var starsContainer = $(this);\n        var starCountElement = starsContainer.find('.star-count');\n        var count = parseInt(starCountElement.text(), 10);\n        count = count - 1;\n        if (!isNaN(count)) {\n            var referenceStar = starsContainer.find('.star').first();\n\n            if (referenceStar.length) {\n                for (var i = 0; i < count; i++) {\n                    starsContainer.append(referenceStar.clone());\n                }\n            }\n        }\n    });\n\n    // Count tyres and update #quote-all-button\n    $('#quote-all-button').text('Quote ' + $('.result-item').length + ' Tyres');\n}", "console.log(\"Loaded find-tyres.js\");\n\n$(document).ready(function () {\n    let tyres = [];\n\n    // Disable profile, rim, and submit button initially\n    $(\"#find-profile, #find-rim, #find-tyres-form button[type='submit']\").prop(\"disabled\", true);\n\n    // Extract CMS data\n    $(\"#size-data .w-dyn-item\").each(function () {\n        let ratio = $(this).find(\".size-width\").text().trim();\n        let profile = $(this).find(\".size-profile\").text().trim();\n        let rim = $(this).find(\".size-rim\").text().trim();\n\n        if (ratio && profile && rim) {\n            tyres.push({ ratio, profile, rim });\n        }\n    });\n\n    // Get unique values\n    let uniqueRatios = [...new Set(tyres.map(t => t.ratio))].sort((a, b) => a - b);\n\n    let $ratioSelect = $(\"#find-ratio\"),\n        $profileSelect = $(\"#find-profile\"),\n        $rimSelect = $(\"#find-rim\"),\n        $submitButton = $(\"#find-tyres-form button[type='submit']\");\n\n    // Populate Ratio dropdown\n    uniqueRatios.forEach(ratio => {\n        $ratioSelect.append(new Option(ratio, ratio));\n    });\n\n    // Handle Ratio selection\n    $ratioSelect.on(\"change\", function () {\n        let selectedRatio = $(this).val();\n\n        $profileSelect.html('<option value=\"\">\u2026</option>').prop(\"disabled\", true);\n        $rimSelect.html('<option value=\"\">\u2026</option>').prop(\"disabled\", true);\n        $submitButton.prop(\"disabled\", true);\n\n        if (!selectedRatio) return;\n\n        let filteredProfiles = [...new Set(tyres.filter(t => t.ratio === selectedRatio).map(t => t.profile))].sort((a, b) => a - b);\n\n        filteredProfiles.forEach(profile => {\n            $profileSelect.append(new Option(profile, profile));\n        });\n\n        $profileSelect.prop(\"disabled\", false);\n        localStorage.setItem(\"selectedTyreRatio\", selectedRatio);\n    });\n\n    // Handle Profile selection\n    $profileSelect.on(\"change\", function () {\n        let selectedRatio = $ratioSelect.val();\n        let selectedProfile = $(this).val();\n\n        $rimSelect.html('<option value=\"\">\u2026</option>').prop(\"disabled\", true);\n        $submitButton.prop(\"disabled\", true);\n\n        if (!selectedProfile) return;\n\n        let filteredRims = [...new Set(tyres.filter(t => t.ratio === selectedRatio && t.profile === selectedProfile).map(t => t.rim))].sort();\n\n        filteredRims.forEach(rim => {\n            $rimSelect.append(new Option(rim, rim));\n        });\n\n        $rimSelect.prop(\"disabled\", false);\n        localStorage.setItem(\"selectedTyreProfile\", selectedProfile);\n    });\n\n    // Enable Submit Button when Rim is selected\n    $rimSelect.on(\"change\", function () {\n        $submitButton.prop(\"disabled\", !$(this).val());\n        localStorage.setItem(\"selectedTyreRim\", $(this).val());\n    });\n\n    // Form Submission (Redirect to results page)\n    $(\"#find-tyres-form\").on(\"submit\", function (event) {\n        event.preventDefault();\n\n        let ratio = $ratioSelect.val();\n        let profile = $profileSelect.val().replace(\".\", \"-\");\n        let rim = $rimSelect.val().toLowerCase();\n\n        if (ratio && profile && rim) {\n            localStorage.setItem(\"selectedTyreSize\", `${ratio}-${profile}-${rim}`);\n            window.location.href = `/tyre-size/${ratio}-${profile}-${rim}`;\n        } else {\n            alert(\"Please select all fields.\");\n        }\n    });\n\n    // Load saved selections from localStorage (in sequence)\n    let savedRatio = localStorage.getItem(\"selectedTyreRatio\");\n    if (savedRatio) {\n        $ratioSelect.val(savedRatio).trigger(\"change\");\n\n        setTimeout(() => {\n            let savedProfile = localStorage.getItem(\"selectedTyreProfile\");\n            if (savedProfile) {\n                $profileSelect.val(savedProfile).trigger(\"change\");\n\n                setTimeout(() => {\n                    let savedRim = localStorage.getItem(\"selectedTyreRim\");\n                    if (savedRim) {\n                        $rimSelect.val(savedRim).trigger(\"change\");\n                    }\n                }, 300);\n            }\n        }, 300);\n    }\n}); // End of document.ready"],
  "mappings": "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",
  "names": ["starsContainer", "starCountElement", "count", "referenceStar", "i", "tyres", "ratio", "profile", "rim", "uniqueRatios", "t", "a", "b", "$ratioSelect", "$profileSelect", "$rimSelect", "$submitButton", "selectedRatio", "selectedProfile", "event", "savedRatio", "savedProfile", "savedRim"]
}
